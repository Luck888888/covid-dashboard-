{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";/* eslint-disable linebreak-style */import React from'react';var totalKeyArray=['confirmed'];function Summary(props){var locationArray=props.locationArray,selectedLocation=props.selectedLocation,onSelectItem=props.onSelectItem,onDeselectItem=props.onDeselectItem,loading=props.loading;function onClickItem(id){if(selectedLocation===null)onSelectItem(id);else if(selectedLocation.id!==id)onSelectItem(id);else onDeselectItem();}var totalElements=totalKeyArray.map(function(key){var sum=locationArray.reduce(function(total,location){return total+location.latest[key];},0);return/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"title is-6\",children:key})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsx(\"p\",{className:\"is-6 has-text-right\",children:sum})})]},key);});var locationElements=locationArray.map(function(location){var id=location.id,countryCode=location.country_code,country=location.country,province=location.province,confirmed=location.latest.confirmed;var title=country;if(province!==''&&province!==country){title=\"\".concat(province,\", \").concat(country);}var locationClass='list-view-location';if(selectedLocation!==null){if(location.id===selectedLocation.id){locationClass+=' selected';}}var flag=countryCode;if(countryCode!==''){flag=/*#__PURE__*/_jsx(\"img\",{src:\"https://www.countryflags.io/\".concat(countryCode,\"/flat/64.png\"),alt:\"img\",onError:function onError(e){e.target.onerror=null;e.target.src='https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/62/62db5f0a37fc0581a7e2b441098220b89b2379f4_medium.jpg';}});}return/*#__PURE__*/_jsx(\"div\",{className:locationClass,onClick:function onClick(){return onClickItem(id);},children:/*#__PURE__*/_jsx(\"div\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:flag}),/*#__PURE__*/_jsx(\"td\",{className:\"title is-7\",children:title}),/*#__PURE__*/_jsx(\"td\",{children:confirmed})]})})},\"\".concat(id,\"-\").concat(countryCode));});return/*#__PURE__*/_jsx(\"div\",{className:\"list-view\",children:loading?/*#__PURE__*/_jsx(\"p\",{className:\"fetch-message\",children:\"Fetching!\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list-view-total\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title is-4\",children:\"Clobal Cases\"}),totalElements]}),/*#__PURE__*/_jsx(\"div\",{className:\"list-view-locations\",children:locationElements})]})});}export default Summary;","map":{"version":3,"sources":["E:/RssSchool/Covid_My/covid-dashboard-/src/components/Summary.jsx"],"names":["React","totalKeyArray","Summary","props","locationArray","selectedLocation","onSelectItem","onDeselectItem","loading","onClickItem","id","totalElements","map","key","sum","reduce","total","location","latest","locationElements","countryCode","country_code","country","province","confirmed","title","locationClass","flag","e","target","onerror","src"],"mappings":"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","sourcesContent":["/* eslint-disable linebreak-style */\r\nimport React from 'react';\r\n\r\nconst totalKeyArray = ['confirmed'];\r\nfunction Summary(props) {\r\n  const {\r\n    locationArray,\r\n    selectedLocation,\r\n    onSelectItem,\r\n    onDeselectItem,\r\n    loading,\r\n  } = props;\r\n\r\n  function onClickItem(id) {\r\n    if (selectedLocation === null) onSelectItem(id);\r\n    else if (selectedLocation.id !== id) onSelectItem(id);\r\n    else onDeselectItem();\r\n  }\r\n\r\n  const totalElements = totalKeyArray.map((key) => {\r\n    const sum = locationArray.reduce((total, location) => total + location.latest[key], 0);\r\n    return (\r\n      <div key={key} className=\"columns\">\r\n        <div className=\"column\">\r\n          <h6 className=\"title is-6\">{key}</h6>\r\n        </div>\r\n        <div className=\"column\">\r\n          <p className=\"is-6 has-text-right\">{sum}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const locationElements = locationArray.map((location) => {\r\n    const {\r\n      id, country_code: countryCode,\r\n      country, province,\r\n      latest: { confirmed },\r\n    } = location;\r\n\r\n    let title = country;\r\n    if (province !== '' && province !== country) {\r\n      title = `${province}, ${country}`;\r\n    }\r\n    let locationClass = 'list-view-location';\r\n    if (selectedLocation !== null) {\r\n      if (location.id === selectedLocation.id) {\r\n        locationClass += ' selected';\r\n      }\r\n    }\r\n    let flag = countryCode;\r\n    if (countryCode !== '') {\r\n      flag = <img src={`https://www.countryflags.io/${countryCode}/flat/64.png`} alt='img' onError={(e) => { e.target.onerror = null; e.target.src = 'https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/62/62db5f0a37fc0581a7e2b441098220b89b2379f4_medium.jpg'; }}></img>;\r\n    }\r\n\r\n    return (\r\n      <div key={`${id}-${countryCode}`} className={locationClass} onClick={() => onClickItem(id)}>\r\n        <div className=\"table\">\r\n          <tr>\r\n            <td>{flag}</td>\r\n            <td className=\"title is-7\">{title}</td>\r\n            <td>{confirmed}</td>\r\n          </tr>\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"list-view\">\r\n      {\r\n        loading\r\n          ? <p className='fetch-message'>Fetching!</p>\r\n          : (\r\n            <>\r\n              <div className=\"list-view-total\">\r\n                <h2 className=\"title is-4\">Clobal Cases</h2>\r\n                {totalElements}\r\n              </div>\r\n              <div className=\"list-view-locations\">\r\n                {locationElements}\r\n              </div>\r\n            </>\r\n          )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Summary;\r\n"]},"metadata":{},"sourceType":"module"}